"0","library(""rugarch"")"
"0","par(mfrow=c(2,1))"
"0","# use GARCH(1,1) to model volatility"
"0","garch_spec <- ugarchspec(variance.model = list(model=""sGARCH"", garchOrder=c(1,1)),"
"0","  mean.model = list(armaOrder=c(0,0), include.mean=FALSE), distribution = ""norm"")"
"0","garch_fit <- ugarchfit(spec=garch_spec, data=X_log_sp)"
"0","vol <- xts(garch_fit@fit$sigma, order.by = index(X_log_sp))"
"0","residual <- (abs(X_log_sp) - vol)/vol %>% xts(index(X_log_sp))"
"0","plot(merge(vol, X_log_sp), col=c(""coral"", ""black""), main=""S&P 500 log-returns (Garch(1,1))"", lwd=c(2,1))"
