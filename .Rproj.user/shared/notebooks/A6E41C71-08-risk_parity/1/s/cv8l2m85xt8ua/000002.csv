"0","# compute risk contributions"
"0","risk_all <- cbind(""GMVP""          = as.vector(w_GMVP * (Sigma %*% w_GMVP)),"
"0","                  ""Markowitz MVP"" = as.vector(w_Markowitz * (Sigma %*% w_Markowitz)),"
"0","                  ""EWP""           = as.vector(w_EWP * (Sigma %*% w_EWP)),"
"0","                  ""RPP (naive)""    = as.vector(w_RPP_naive * (Sigma %*% w_RPP_naive)))"
"0","rownames(risk_all) <- colnames(X_lin)"
"0","RRC_all <- sweep(risk_all, MARGIN = 2, STATS = colSums(risk_all), FUN = ""/"")  # normalize each column"
"0",""
"0","# plot"
"0","barplot(t(RRC_all), col = rainbow8equal[1:4],"
"0","        main = ""Relative risk contribution"", xlab = ""stocks"", ylab = ""risk"", beside = TRUE, "
"0","        legend = colnames(RRC_all))"
