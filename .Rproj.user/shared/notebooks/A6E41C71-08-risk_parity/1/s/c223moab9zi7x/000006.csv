"0",""
"0","# compute risk contributions"
"0","risk_all <- cbind(risk_all, "
"0","                  ""RPP (convex)"" = as.vector(w_RPP_convex * (Sigma %*% w_RPP_convex)))"
"0","RRC_all <- sweep(risk_all, MARGIN = 2, STATS = colSums(risk_all), FUN = ""/"")  # normalize each column"
"0",""
"0","# plot"
"0","barplot(t(RRC_all), col = rainbow8equal[1:7],"
"0","        main = ""Relative risk contribution"", xlab = ""stocks"", ylab = ""risk"", beside = TRUE, "
"0","        legend = colnames(RRC_all))"
